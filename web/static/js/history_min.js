var server=location.protocol+"//"+location.hostname+(location.port?":"+location.port:"");function cancel_rule(t){index=$(t).data("id"),console.log(index+" irrigation schedule will be canceled"),$.ajax({url:server+"/cancel_rule",type:"get",data:{id:index},success:function(t){console.log("Line "+index+" wont be started")},error:function(){console.error("Can't cancel next rule for "+index)}})}$(document).ready(function(){state=$("#all_rules").is(":checked"),$("#rules_table tr td:nth-child(2)").each(function(){(-1!=$(this).text().indexOf("Остановить")||-1!=$(this).text().indexOf("Зупинити"))&!state&&$(this).closest("tr").hide(),(-1!=$(this).text().indexOf("Остановить")||-1!=$(this).text().indexOf("Зупинити"))&state&&$(this).closest("tr").show()}),$(".btn-refresh-history").click(function(){$.ajax({url:"/list_all",type:"get",data:{days:$(this).data("value")},success:function(t){$("#rules_table").html(t)}})}),$("#all_rules").change(function(){state=$("#all_rules").is(":checked"),$("#rules_table tr td:nth-child(2)").each(function(){(-1!=$(this).text().indexOf("Остановить")||-1!=$(this).text().indexOf("Зупинити"))&!state&&$(this).closest("tr").hide(),(-1!=$(this).text().indexOf("Остановить")||-1!=$(this).text().indexOf("Зупинити"))&state&&$(this).closest("tr").show()})})});